# Python Program for Z Algorithm to find the occurrence of a pattern in a string in linear time

# Given string
T = "abababab"

# Pattern to be found
P = "aba"

# concatenating pattern and text to create a string P$T where $ is a special character not present in text or pattern
S = P+"$"+T

L = 0
R = 0
n = len(S)
Z = [None] * len(S)
for i in range(1,n):
    if i > R :
    	L,R = i,i
    	while ( R < n and S[R-L] == S[R]):
    		R = R+1
    	Z[i] = R-L
    	R = R-1
    else:
    	k = i-L
    	if Z[k] < R-i+1 :
    		Z[i] = Z[k]
    	else:
    		L = i
    		while ( R < n and S[R-L] == S[R]):
    			R = R+1
    		Z[i] = R-L
    		R = R-1
for i in range(1,n):
	print(Z[i])
